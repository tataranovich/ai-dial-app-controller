name: PR Workflow

on:
  pull_request:
    branches: [development, release-*]

jobs:
  run_tests:
    uses: epam/ai-dial-ci/.github/workflows/java_pr.yml@1.10.0
    secrets: inherit
    with:
      java_version: 21

  run_builder_tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2
        with:
          lfs: true
      - uses: epam/ai-dial-ci/actions/build_docker@multiple-images
        with:
          build-context: ./builder-template
          image_name: ghcr.io/${{ env.IMAGE_NAME }}
          image_tag: test
